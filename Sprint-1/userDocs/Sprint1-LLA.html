<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="it">


<head>
    <title>Iss2023-LLA-Sprint1</title>
    <link href="./defaultStyle.css" rel="stylesheet">
	<link href="./menuCss.css" rel="stylesheet">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/> <!--  To solve accent problems  -->
</head>


<body>
<div id="top">
    <h1>Progetto Finale ISS - Waste Service</h1>
</div>
<div class="remark">
<nav>
    <ul>
        <li><a href="../../Sprint-0/userDocs/Sprint0-LLA.html">sprint0</a></li>
        <li><a href="./Sprint1-LLA.html">sprint1</a></li>
    </ul>
</nav>
</div>

    <h2>Introduction</h2>
    <div class="remark">
	<p>
	Progetto finale di ISS che consiste nel realizzare un sistema di gestione dei rifiuti in cui un robot svolge il compito di trasportare i materiali dal camion ai relativi contenitori di smistamento. 
	Attualmente, ci concentriamo su una fase preliminare di analisi dei requisiti, che consiste nel comprendere le esigenze del cliente e tradurle in una forma formalizzata e strutturata.
	</p>
	</div>

    <h2>Requirements</h2>
    <div class="remark">
        <p>Si riporta la pagina di requisiti del committente: <a href="https://htmlpreview.github.io/?https://github.com/anatali/issLab2022/blob/main/it.unibo.issLabStart/userDocs/Dispense/lezioni/html/TemaFinale22.html" traget="_blank" >Waste
            Service 22.pdf</a></p>
		<p>Inoltre si riporta il file dei requisiti dello Sprint0: <a href="../../Sprint-0/userDocs/Sprint0-LLA.html#Requirements">Requisiti Sprint0</a>
    </div>

    <!----------------------- REQUIREMENT ANALYSIS --------------------------->

    <h2>Scrum Goal and Work Plan</h2>
    <div class="remark">
	<h4>Scrum goal:</h4>
	Obiettivo dello Sprint1 è la creazione di una prima demo (su ambiente virtuale) che tenga presente delle richiesete del commitente, ossia che il truck vada via il prima possibile 
	e che il sistema possa ricevere altre richieste anche durante la fase di deposito dei rifiuti. Questi, di fatto, sono i punti principali che contengono la core business logic del problema (descrivono
	infatti la <b>Service area</b> e la <b>Deposit action</b>).
	
	<h4>Work plan:</h4>
	<ul>
        <li>Analisi del problema di come affrontare la navigazione, anche in relazione al SW già sviluppato <br>
            (possibile visitare la pagina riassuntiva <a href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/anatali/issLab2022/main/it.unibo.issLabStart/userDocs/Dispense/lezioni/html/Applicazioni22.html">Applicazioni22</a> dei moduli sviluppati)</li>
        <li>Analisi delle responsabilità e delle interazioni tra i componenti <i>wasteservice</i>, <i>trasporttrolley</i> e <i>basicrobot</i></li>
        <li>Sviluppo / adattamento di tali componenti</li>
        <li>Realizzazione di un modello eseguibile (a tal proposito verrà utilizzato il metamodello <a href="../../Sprint-0/userDocs/QAK.html">QAK</a>).</li>
        <li>Realizzazione di un (più completo) test-plan per il modello</li>
    </ul>
        
    </div>
	
	<!--PROBLEM ANALYSIS-->
	<a NAME="ProblemAnalysis"></a>
	<h2>Problem analysis</h2>
	<div class="remark">
		<h4>Architettura logica precedente:</h4>
		<img src="./img/Logical_Architecture_complete_v2.png" alt="General Logical Architecture">
		<p style="width: 100%; text-align: right;"><a href="./img/Legenda.png">Legenda.png</a></p>
		<br>

        <h4>Focus Sprint-1</h4>
        <p>Img. Architettura Focus</p>







        <h3>1 - Simulazione Smart Device</h3>


        <h3>2 - Divisione della Logica di business dei componenti</h3>


        <h3>3 - Gestione delle richieste</h3>


        <h3>4 - Interazione WasteService e TransportTrolley</h3>














        <br>
        <br>
        <br>
        <br>
<h3>Wasteservice</h3>

    <h4>Quando rispondere allo <b>Smart device</b>?</h4>
    <p>Siccome i requisiti aggiuntivi dicono che sarebbe bene mandare via il <b>Waste-truck</b> appena possibile, se una richiesta può essere soddisfatta il driver deve essere liberato subito dopo 
	   il <b>Pickup</b> (inviando allo <b>Smart device</b> una <b>loadaccept</b>). 
       Se invece la richiesta effettuata non può essere soddisfatta, è bene rispondere immediatamente con una <b>loadrejected</b> (qualunque cosa stia facendo il robot in quel momento).</p>

    <h3>Transport trolley</h3>

        <h4 id="DDR_robot_vs_Transport_trolley"><u>DDR robot</u> vs <u>Transport trolley</u>:</h4>
    <ul>
        <p>Possibile una separazione dei due concetti: </p>
        <li>
            Il termine "DDR - Differential Drive Robot" rappresenta la tecnologia con la quale il robot si muove. Il <b>DDR robot</b> è quindi una entità di basso livello che riceve comandi base 
			come "avanti", "destra", "sinistra", "halt", ecc.. <br>
         <p>Nel seguente file la documentazione completa: <c><a target="_blank" href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/anatali/issLab2022/main/it.unibo.issLabStart/userDocs/Dispense/lezioni/html/BasicRobot22.html">BasicRobot22</a></c>.
		    E un suo modello eseguibile <a href="https://github.com/anatali/issLab2022/blob/main/unibo.basicrobot22/src/basicrobot.qak">basicrobot.qak</a></p>, che infatti riceve comandi:
            <pre><code>
//MOVE =  w | a | s | d | h | l | r

Dispatch cmd           : cmd(MOVE)
            </code></pre>

        </li>
        <li>
            Invece il <b>Transport trolley</b> è concepita come entità astratta di più alto livello che si occuperà di ricevere la destinazione generica<br>
            <pre><code>
//POSITION =  INDOOR | PLASTICBOX | GLASSBOX | HOME
Request moveto         : moveto(POSITION)
Reply   movetoanswer   : movetoanswer(RESULT)
            </code></pre>
        </li>
    </ul>
    <p>IN CHE MODO COMUNICANO WASTE SERVICE e TT?? 
	Noi sappiamo che sono nello stesso contesto.......COME LI GESTIAMO?</p>

    <h4>Dove collocare <b>Transport trolley</b>:</h4>
    Abbiamo identificato 3 contesti - Waste Service e TT stanno nello stesso contesto (ctxwasteservice) e comunicano con il BasicRobot che si trova in un altro contesto (ctxddrobot) 
    <img class="centerimg" style="width: 800px;" src="./img/LogicalArch_sprint1.png"/>
    <p style="width: 100%; text-align: right;"><a href="../../Sprint-0/userDocs/img/Legenda.png">Legenda.png</a></p>

    <h4>Operazioni eseguite dal <b>Transport trolley</b>:</h4>
<br>
<br>
<br>
<br>
<br>
    <p>L'interfaccia del transporttrolley risulta quindi essere la seguente:</p>
    <code><pre>
System transporttrolley

//Req from WasteService
Request pickupReq : pickupReq(ID, T)	//Richiesta di pickup di un relativo materiale
Reply pickupOk : pickupOk(ID)			//Risposta di fine pickup, relativa ad una richiesta
	
//To BasicRobot22
Dispatch cmd : cmd(MOVE)

//To Led
Event robotStateEvent : robotStateEvent(STATE)		//STATE : atHome, moving, stopped
	

Context ctxwasteservice ip[host="loaclhost" port=8072]</pre>
    </code>
    Si veda il file <a target="_blank" href="https://github.com/LucaLand/WasteService22-LLA/blob/dev/sprint-0/Sprint-0/Qak_Models/TransportTrolley.qak"> Metamodello QAK TransportTrolley</a></b>.

    <h4>Il problema della navigazione: <br>
        <p>Uso di un sistema di coordinate  o  boundary walker che raggiunge gli angoli rilevando il contatto con i muri?</p>
    </h4>
<p>La disposizione specifica delle zone INDOOR, PLASTICBOX, GLASSBOX e HOME, insieme alla presenza di un sonar o sensore di impatto sul robot, 
consente di adottare una soluzione che non richiede l'uso di coordinate. Il robot può spostarsi all'interno dell'area di servizio lungo le pareti, 
utilizzando la rilevazione delle collisioni con le pareti per orientarsi.</p>

<p>Nella sezione seguente, esaminiamo i vantaggi dell'utilizzo di un sistema basato su coordinate e di uno senza coordinate:</p>

<ul>Vantaggi dell'utilizzo di un sistema basato su coordinate:</ul>

<li>Maggiore flessibilità: Un sistema basato su coordinate offre maggiore flessibilità nel gestire la posizione dei siti. 
Ad esempio, può adattarsi facilmente se i siti non sono più posizionati agli angoli, se il robot deve seguire un percorso ottimale o se ci sono ostacoli nell'area di servizio.</li>

<li>Potenziale riutilizzo di moduli esistenti: Utilizzando un sistema basato su coordinate, è possibile sfruttare moduli sviluppati precedentemente come mapper e planner, 
evitando la necessità di sviluppare nuove soluzioni da zero.</li>

<ul>Vantaggi dell'utilizzo di un sistema senza coordinate:</ul>

<li>Minor complessità e costo inferiore: L'assenza di un sistema basato su coordinate semplifica il design complessivo e riduce i costi associati all'implementazione.</li>

<li>Maggiore velocità di spostamento e reattività: Senza la necessità di completare passi specifici, un sistema senza coordinate consente movimenti più rapidi e una maggiore reattività ai comandi di arresto durante il movimento in avanti.</li>
<li> I robot reali potrebbero beneficiare di un sistema senza coordinate, in quanto non richiede l'uso di sistemi di feedback o hardware aggiuntivo per controllare i propri spostamenti in modo più preciso. A differenza di una soluzione basata su coordinate, un sistema basato sulla rilevazione di contatti con le pareti non è soggetto all'accumulo di errori ad ogni passo.</li>

<p>Dopo un'attenta analisi delle diverse opzioni presentate già nello <a href="../../Sprint-0/userDocs/Sprint0-LLA.html#DepositAction">Sprint0</a> , abbiamo scelto di adottare una soluzione senza l'uso di coordinate, basandoci esclusivamente su una FSM (Finite State Machine), considerando l'importanza e la rilevanza di tale decisione.</p>

    <div class="remark" style="background-color: #c3fbe8;">
        <h3>Riassunto situazione attuale:</h3>
        <h4>Architettura logica:</h4>
        <img src="./img/Logical_Architecture_complete_v2.png" alt="General Logical Architecture">
		<p style="width: 100%; text-align: right;"><a href="../../Sprint-0/userDocs/img/Legenda.png">Legenda.png</a></p>
        <h4>QAK</h4>
        <a href="https://github.com/LucaLand/WasteService22-LLA/blob/dev/sprint-0/Sprint-0/Logical_Architecture_QAK/src/Logical_Architecture_Local.qak">Modello del sistema QAK</a> <br>
        <a href="https://github.com/LucaLand/WasteService22-LLA/blob/dev/sprint-0/Sprint-0/Qak_Models/WasteService.qak">Primo metamodello QAK <i>wasteservice</i></a> <small>(= a sprint0)</small><br>
        <a href="https://github.com/LucaLand/WasteService22-LLA/blob/dev/sprint-0/Sprint-0/Qak_Models/TransportTrolley.qak">Primo metamodello QAK <i>transporttrolley</i></a> <br>


    </div>

</div>


</body>
</html>
